@page "/CreateAccount"
@using System.ComponentModel.DataAnnotations

<PageTitle>Create Account</PageTitle>

<div class="hp-signin-page">
    <div class="hp-signin-container">
        <h2 class="mb-3">Create an account</h2>

        <EditForm Model="@model" OnValidSubmit="HandleValidSubmit">
            <DataAnnotationsValidator />
            <ValidationSummary class="text-danger" />

            <div class="mb-3">
                <label for="firstname" class="form-label">First Name</label>
                <InputText typeof="text" id="firstname" class="form-control" />
                <ValidationMessage For="@(() => model.Email)" class="text-danger" />
            </div>

            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <InputText id="email" class="form-control" @bind-Value="model.Email" />
                <ValidationMessage For="@(() => model.Email)" class="text-danger" />
            </div>

            <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <InputText id="password" type="password" class="form-control" @bind-Value="model.Password" />
                <ValidationMessage For="@(() => model.Password)" class="text-danger" />
            </div>

            <div>
                <p>Don't have an account? <a href="@($"/CreateAccount")">Create an account</a></p>
            </div>

            <div class="d-flex justify-content-between align-items-center">
                <a href="/create-account" class="hp-link-black">Sign in</a>
                <button type="submit" class="hp-link-white">Sign in</button>
            </div>
        </EditForm>
    </div>
</div>

@code {

    private SignInModel model = new();

    private void HandleValidSubmit()
    {
        // TODO: replace with real sign-in logic
        Console.WriteLine($"Sign-in attempt for {model.Email}");
    }

    private class SignInModel
    {
        [Required]
        [EmailAddress]
        public string? Email { get; set; }

        [Required]
        [MinLength(6)]
        public string? Password { get; set; }
    }
}
